/*! For license information please see main.9fb7e6136dde06ab3339.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateportfolio_hursun_2("main",{"./app/index.js":(e,t,s)=>{s.r(t);var n=s("./node_modules/lodash/each.js"),a=s("./node_modules/normalize-wheel/index.js"),i=s("./app/components/canvas/index.js"),o=s("./app/components/Header.js"),h=s("./app/components/Preloader.js"),r=s("./app/pages/home/index.js"),d=s("./app/pages/works/index.js"),c=s("./app/pages/skills/index.js"),p=s("./app/pages/gallery/index.js"),l=s("./app/pages/spotify/index.js");new class{constructor(){this.prevUrl=window.location.href,this.createContent(),this.createCanvas(),this.createPreloader(),this.createHeader(),this.createPages(),this.addLinkListeners(),this.addEventListener(),this.update()}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createCanvas(){this.canvas=new i.default,this.canvas.onChange(this.template)}createPreloader(){this.preloader=new h.default({loadingManger:this.canvas.manager}),this.preloader.once("completed",this.onPreloaded.bind(this))}onPreloaded(){this.header.createAudio(),this.onResize(),this.page.show()}createHeader(){this.header=new o.default}createPages(){this.pages={home:new r.default,works:new d.default,skills:new c.default,gallery:new p.default,spotify:new l.default},this.page=this.pages[this.template],this.page.create()}async onChange(e){if(e!==this.prevUrl){"gallery"===this.prevUrl.split("/")[3]&&(this.content.style.height="100%"),this.page.hide();const t=await window.fetch(e);if(200===t.status){const s=await t.text(),n=document.createElement("div");n.innerHTML=s,window.history.pushState({},"",e);const a=n.querySelector(".content");this.template=a.getAttribute("data-template"),this.content.setAttribute("data-template",this.template),this.content.innerHTML=a.innerHTML,this.page=this.pages[this.template],this.page.create(),this.canvas.onChange(this.template),this.onResize(),this.addLinkListeners(),this.page.show()}else console.log("Something went wrong")}this.prevUrl=e}addLinkListeners(){const e=document.querySelectorAll("a");n(e,(e=>{e.onclick=t=>{if(-1==="mailto:sshursun@gmail.com, https://www.instagram.com/__hursun_ss__/, https://twitter.com/hursun2004, https://www.linkedin.com/in/hursun-ss-377659233/".indexOf(e.href)){t.preventDefault();const{href:s}=e;this.onChange(s)}}}))}addEventListener(){window.addEventListener("resize",this.onResize.bind(this)),window.addEventListener("mousewheel",this.onScroll.bind(this)),window.addEventListener("mousemove",this.onMousemove.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchstart",this.onTouchStart.bind(this)),window.addEventListener("touchend",this.onTouchEnd.bind(this))}onResize(){window.requestAnimationFrame((()=>{this.page&&this.page.onResize&&this.page.onResize(),this.canvas&&this.canvas.onResize()&&this.canvas.onResize()}))}onScroll(e){const t=a(e);this.page&&this.page.onScroll&&this.page.onScroll(t),this.canvas&&this.canvas.onScroll&&this.canvas.onScroll(t)}onMousemove(e){this.canvas&&this.canvas.onMousemove&&this.canvas.onMousemove(e),this.page&&this.page.onMousemove&&this.page.onMousemove(e)}onTouchMove(e){}onTouchEnd(){}onTouchStart(){}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(),window.requestAnimationFrame(this.update.bind(this))}}}},(function(e){e.h=()=>"6f785dca4c19e4fb8da1"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bi0yLy4vYXBwL2luZGV4LmpzIiwid2VicGFjazovL3BvcnRmb2xpby1odXJzdW4tMi93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2guanMnXHJcbmltcG9ydCBOb3JtYWxpemVXaGVlbCBmcm9tICdub3JtYWxpemUtd2hlZWwnXHJcblxyXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vY29tcG9uZW50cy9jYW52YXMvaW5kZXguanMnXHJcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9jb21wb25lbnRzL0hlYWRlci5qcydcclxuaW1wb3J0IFByZWxvYWRlciBmcm9tICcuL2NvbXBvbmVudHMvUHJlbG9hZGVyLmpzJ1xyXG5pbXBvcnQgSG9tZSBmcm9tICcuL3BhZ2VzL2hvbWUvaW5kZXguanMnXHJcbmltcG9ydCBXb3JrcyBmcm9tICcuL3BhZ2VzL3dvcmtzL2luZGV4LmpzJ1xyXG5pbXBvcnQgU2tpbGxzIGZyb20gJy4vcGFnZXMvc2tpbGxzL2luZGV4LmpzJ1xyXG5pbXBvcnQgR2FsbGVyeSBmcm9tICcuL3BhZ2VzL2dhbGxlcnkvaW5kZXguanMnXHJcbmltcG9ydCBTcG90aWZ5IGZyb20gJy4vcGFnZXMvc3BvdGlmeS9pbmRleC5qcydcclxuXHJcbmNsYXNzIGFwcCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnByZXZVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRlbnQoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FudmFzKClcclxuICAgICAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVIZWFkZXIoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxyXG4gICAgICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpXHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKClcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ29udGVudCgpIHtcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpXHJcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRoaXMuY29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNhbnZhcygpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoKVxyXG4gICAgICAgIHRoaXMuY2FudmFzLm9uQ2hhbmdlKHRoaXMudGVtcGxhdGUpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUHJlbG9hZGVyKCkge1xyXG4gICAgICAgIHRoaXMucHJlbG9hZGVyID0gbmV3IFByZWxvYWRlcih7IGxvYWRpbmdNYW5nZXI6IHRoaXMuY2FudmFzLm1hbmFnZXIgfSlcclxuICAgICAgICB0aGlzLnByZWxvYWRlci5vbmNlKCdjb21wbGV0ZWQnLCB0aGlzLm9uUHJlbG9hZGVkLmJpbmQodGhpcykpXHJcbiAgICB9XHJcblxyXG4gICAgb25QcmVsb2FkZWQoKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkZXIuY3JlYXRlQXVkaW8oKVxyXG4gICAgICAgIHRoaXMub25SZXNpemUoKVxyXG4gICAgICAgIHRoaXMucGFnZS5zaG93KClcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVIZWFkZXIoKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKClcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVQYWdlcygpIHtcclxuICAgICAgICB0aGlzLnBhZ2VzID0ge1xyXG4gICAgICAgICAgICBob21lOiBuZXcgSG9tZSgpLFxyXG4gICAgICAgICAgICB3b3JrczogbmV3IFdvcmtzKCksXHJcbiAgICAgICAgICAgIHNraWxsczogbmV3IFNraWxscygpLFxyXG4gICAgICAgICAgICBnYWxsZXJ5OiBuZXcgR2FsbGVyeSgpLFxyXG4gICAgICAgICAgICBzcG90aWZ5OiBuZXcgU3BvdGlmeSgpLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMudGVtcGxhdGVdXHJcbiAgICAgICAgdGhpcy5wYWdlLmNyZWF0ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25DaGFuZ2UodXJsKSB7XHJcbiAgICAgICAgaWYgKHVybCAhPT0gdGhpcy5wcmV2VXJsKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZVcmwuc3BsaXQoJy8nKVszXSA9PT0gJ2dhbGxlcnknKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYWdlLmhpZGUoKVxyXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gYXdhaXQgd2luZG93LmZldGNoKHVybClcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVxdWVzdC50ZXh0KClcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFxyXG5cclxuICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIHVybClcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXZDb250ZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JylcclxuICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScsIHRoaXMudGVtcGxhdGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQuaW5uZXJIVE1MID0gZGl2Q29udGVudC5pbm5lckhUTUxcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgPSB0aGlzLnBhZ2VzW3RoaXMudGVtcGxhdGVdXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UuY3JlYXRlKClcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLm9uQ2hhbmdlKHRoaXMudGVtcGxhdGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVzaXplKClcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Uuc2hvdygpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU29tZXRoaW5nIHdlbnQgd3JvbmcnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnByZXZVcmwgPSB1cmxcclxuICAgIH1cclxuXHJcbiAgICBhZGRMaW5rTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpXHJcbiAgICAgICAgZWFjaChsaW5rcywgKGxpbmspID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3RyaWN0ZWQgPVxyXG4gICAgICAgICAgICAgICAgJ21haWx0bzpzc2h1cnN1bkBnbWFpbC5jb20sIGh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vX19odXJzdW5fc3NfXy8sIGh0dHBzOi8vdHdpdHRlci5jb20vaHVyc3VuMjAwNCwgaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL2h1cnN1bi1zcy0zNzc2NTkyMzMvJ1xyXG5cclxuICAgICAgICAgICAgbGluay5vbmNsaWNrID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN0cmljdGVkLmluZGV4T2YobGluay5ocmVmKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGhyZWYgfSA9IGxpbmtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGhyZWYpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSlcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcykpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZW1vdmUuYmluZCh0aGlzKSlcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSlcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0LmJpbmQodGhpcykpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kLmJpbmQodGhpcykpXHJcbiAgICB9XHJcblxyXG4gICAgb25SZXNpemUoKSB7XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uUmVzaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Uub25SZXNpemUoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblJlc2l6ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5vblJlc2l6ZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG9uU2Nyb2xsKGUpIHtcclxuICAgICAgICBjb25zdCBub3JtYWxpemUgPSBOb3JtYWxpemVXaGVlbChlKVxyXG4gICAgICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uU2Nyb2xsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZS5vblNjcm9sbChub3JtYWxpemUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblNjcm9sbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5vblNjcm9sbChub3JtYWxpemUpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uTW91c2Vtb3ZlKGUpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Nb3VzZW1vdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMub25Nb3VzZW1vdmUoZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uTW91c2Vtb3ZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbk1vdXNlbW92ZShlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoTW92ZShlKSB7fVxyXG4gICAgb25Ub3VjaEVuZCgpIHt9XHJcblxyXG4gICAgb25Ub3VjaFN0YXJ0KCkge31cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UudXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZS51cGRhdGUoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnVwZGF0ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUuYmluZCh0aGlzKSlcclxuICAgIH1cclxufVxyXG5cclxubmV3IGFwcCgpXHJcbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjZmNzg1ZGNhNGMxOWU0ZmI4ZGExXCIpIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwidGhpcyIsInByZXZVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjcmVhdGVDb250ZW50IiwiY3JlYXRlQ2FudmFzIiwiY3JlYXRlUHJlbG9hZGVyIiwiY3JlYXRlSGVhZGVyIiwiY3JlYXRlUGFnZXMiLCJhZGRMaW5rTGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwZGF0ZSIsImNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZW1wbGF0ZSIsImdldEF0dHJpYnV0ZSIsImNhbnZhcyIsIkNhbnZhcyIsIm9uQ2hhbmdlIiwicHJlbG9hZGVyIiwiUHJlbG9hZGVyIiwibG9hZGluZ01hbmdlciIsIm1hbmFnZXIiLCJvbmNlIiwib25QcmVsb2FkZWQiLCJiaW5kIiwiaGVhZGVyIiwiY3JlYXRlQXVkaW8iLCJvblJlc2l6ZSIsInBhZ2UiLCJzaG93IiwiSGVhZGVyIiwicGFnZXMiLCJob21lIiwiSG9tZSIsIndvcmtzIiwiV29ya3MiLCJza2lsbHMiLCJTa2lsbHMiLCJnYWxsZXJ5IiwiR2FsbGVyeSIsInNwb3RpZnkiLCJTcG90aWZ5IiwiY3JlYXRlIiwidXJsIiwic3BsaXQiLCJzdHlsZSIsImhlaWdodCIsImhpZGUiLCJyZXF1ZXN0IiwiZmV0Y2giLCJzdGF0dXMiLCJodG1sIiwidGV4dCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZGl2Q29udGVudCIsInNldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJsb2ciLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlYWNoIiwibGluayIsIm9uY2xpY2siLCJlIiwiaW5kZXhPZiIsInByZXZlbnREZWZhdWx0Iiwib25TY3JvbGwiLCJvbk1vdXNlbW92ZSIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaEVuZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5vcm1hbGl6ZSIsIk5vcm1hbGl6ZVdoZWVsIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9