/*! For license information please see main.8a5155859de14a211f93.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateportfolio_hursun_2("main",{"./app/components/canvas/home/index.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var a=r("./node_modules/three/build/three.module.js"),i=r("./node_modules/gsap/index.js"),s=r("./app/shaders/human/vertex.glsl"),l=r("./app/shaders/human/fragment.glsl"),o=r("./app/shaders/particle/vertex.glsl"),h=r("./app/shaders/particle/fragment.glsl");class c{constructor({scene:e,gltfLoader:t,camera:r,renderer:i}){this.scene=e,this.gltfLoader=t,this.camera=r,this.renderer=i,this.uniforms={time:{value:0},speed:{value:18},charSize:{value:{x:1,y:1}},charResolution:{value:5.5},color:{value:new a.Color("red")},resolution:{value:{x:1,y:1}}},this.scroll={target:0,current:0,limit:document.querySelector(".home__wrapper").clientHeight},this.y={start:0,distance:0,end:0},this.group=new a.Group,this.scene.add(this.group),this.createObject(),this.createParticle()}updateAllMaterial(){this.scene.traverse((e=>{e instanceof a.Mesh&&e.material instanceof a.MeshStandardMaterial&&(e.material.needsUpdate=!0)}))}createObject(){this.cube=new a.Mesh(new a.BoxGeometry(1,1,1),new a.MeshBasicMaterial),this.cube.position.set(0,-18,0),this.material=new a.RawShaderMaterial({vertexShader:s.default,fragmentShader:l.default,uniforms:this.uniforms}),this.gltfLoader.load("models/human/scene.gltf",(e=>{this.model=e.scene,this.model.children[0].children[0].children.forEach((e=>{e.material=this.material})),this.model.position.y=-16,this.group.add(this.model),this.updateAllMaterial()}))}createParticle(){const e=new Float32Array(3e4);for(let t=0;t<1e4;t++){const r=3*t;e[r]=100*(Math.random()-.5),e[r+1]=100*Math.random(),e[r+2]=100*(Math.random()-.5)}const t=new a.BufferGeometry;t.setAttribute("position",new a.BufferAttribute(e,3)),this.particleMaterial=new a.RawShaderMaterial({fragmentShader:h.default,vertexShader:o.default,depthWrite:!1,blending:a.AdditiveBlending,uniforms:{uTime:{value:0},uSize:{value:10*this.renderer.getPixelRatio()}}}),this.particle=new a.Points(t,this.particleMaterial),this.particle.position.y=-35,this.group.add(this.particle)}onScroll({pixelY:e}){this.scroll.target+=e}onTouchStart(e){this.y.start=e.touches[0].clientY}onTouchMove(e){this.y.start>e.touches[0].clientY?this.y.distance+=50:this.y.distance-=100}update(e){this.scroll.target=this.y.distance,this.scroll.target=i.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.target<1&&(this.scroll.target=0),this.scroll.current=i.default.utils.interpolate(this.scroll.current,this.scroll.target,.01),this.head&&(this.head.rotation.y=e),this.particleMaterial&&(this.particleMaterial.uniforms.uTime.value=e),this.scroll.current<4600?(this.camera.rotation.x=3e-4*this.scroll.current,this.camera.rotation.y=.01*this.scroll.current,this.camera.position.z=5*Math.cos(.01*this.scroll.current),this.camera.position.y=.002*-this.scroll.current,this.camera.position.x=5*Math.sin(.01*this.scroll.current),document.querySelector(".home__end").classList.remove("active")):(i.default.to(this.camera.position,{x:0,y:-6,z:15,duration:6,ease:"expo.out"}),i.default.to(this.camera.rotation,{x:0,y:0,z:0,duration:1}),document.querySelector(".home__end").classList.add("active")),this.uniforms.time.value=e}destroy(){this.scene.remove(this.group)}}}},(function(e){e.h=()=>"6a4c0220ec1627d6dca4"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLWSxPQUFPRSxRQUN0Q2QsS0FBS0YsT0FBT2tDLFNBQVMxQixFQUEyQyxFQUF2Q3dDLEtBQUsyQixJQUEwQixJQUF0QnpFLEtBQUtZLE9BQU9FLFNBQzlDRSxTQUFTQyxjQUFjLGNBQWN5RCxVQUFVQyxPQUFPLFlBRXREUCxFQUFBQSxRQUFBQSxHQUFRcEUsS0FBS0YsT0FBT2tDLFNBQVUsQ0FDMUIxQixFQUFHLEVBQ0hDLEdBQUksRUFDSmdFLEVBQUcsR0FDSEssU0FBVSxFQUNWQyxLQUFNLGFBRVZULEVBQUFBLFFBQUFBLEdBQVFwRSxLQUFLRixPQUFPd0UsU0FBVSxDQUMxQmhFLEVBQUcsRUFDSEMsRUFBRyxFQUNIZ0UsRUFBRyxFQUNISyxTQUFVLElBR2Q1RCxTQUFTQyxjQUFjLGNBQWN5RCxVQUFVbkQsSUFBSSxXQUd2RHZCLEtBQUtDLFNBQVNDLEtBQUtDLE1BQVFnRSxDQUM5QixDQUVEVyxVQUNJOUUsS0FBS0osTUFBTStFLE9BQU8zRSxLQUFLc0IsTUFDMUIsa0JDaktMeUQsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvcnRmb2xpby1odXJzdW4tMi8uL2FwcC9jb21wb25lbnRzL2NhbnZhcy9ob21lL2luZGV4LmpzIiwid2VicGFjazovL3BvcnRmb2xpby1odXJzdW4tMi93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnXHJcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXHJcblxyXG5pbXBvcnQgdmVydGV4U2hhZGVyIGZyb20gJy4uLy4uLy4uL3NoYWRlcnMvaHVtYW4vdmVydGV4Lmdsc2wnXHJcbmltcG9ydCBmcmFnbWVudFNoYWRlciBmcm9tICcuLi8uLi8uLi9zaGFkZXJzL2h1bWFuL2ZyYWdtZW50Lmdsc2wnXHJcblxyXG5pbXBvcnQgdmVydGV4U2hhZGVyUGFydGljbGUgZnJvbSAnLi4vLi4vLi4vc2hhZGVycy9wYXJ0aWNsZS92ZXJ0ZXguZ2xzbCdcclxuaW1wb3J0IGZyYWdtZW50U2hhZGVyUGFydGljbGUgZnJvbSAnLi4vLi4vLi4vc2hhZGVycy9wYXJ0aWNsZS9mcmFnbWVudC5nbHNsJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IHNjZW5lLCBnbHRmTG9hZGVyLCBjYW1lcmEsIHJlbmRlcmVyIH0pIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmVcclxuICAgICAgICB0aGlzLmdsdGZMb2FkZXIgPSBnbHRmTG9hZGVyXHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmFcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcclxuXHJcbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHtcclxuICAgICAgICAgICAgdGltZTogeyB2YWx1ZTogMC4wIH0sXHJcbiAgICAgICAgICAgIHNwZWVkOiB7IHZhbHVlOiAxOC4wIH0sXHJcbiAgICAgICAgICAgIGNoYXJTaXplOiB7IHZhbHVlOiB7IHg6IDEuMCwgeTogMS4wIH0gfSxcclxuICAgICAgICAgICAgY2hhclJlc29sdXRpb246IHsgdmFsdWU6IDUuNSB9LFxyXG4gICAgICAgICAgICBjb2xvcjogeyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKCdyZWQnKSB9LFxyXG4gICAgICAgICAgICByZXNvbHV0aW9uOiB7IHZhbHVlOiB7IHg6IDEuMCwgeTogMS4wIH0gfSxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsID0ge1xyXG4gICAgICAgICAgICB0YXJnZXQ6IDAsXHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIGxpbWl0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9tZV9fd3JhcHBlcicpLmNsaWVudEhlaWdodCxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueSA9IHtcclxuICAgICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICAgIGRpc3RhbmNlOiAwLFxyXG4gICAgICAgICAgICBlbmQ6IDAsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKClcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmdyb3VwKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlT2JqZWN0KClcclxuICAgICAgICB0aGlzLmNyZWF0ZVBhcnRpY2xlKClcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBbGxNYXRlcmlhbCgpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnRyYXZlcnNlKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2ggJiZcclxuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsIGluc3RhbmNlb2YgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWxcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlT2JqZWN0KCkge1xyXG4gICAgICAgIHRoaXMuY3ViZSA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAxLCAxKSwgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCkpXHJcbiAgICAgICAgdGhpcy5jdWJlLnBvc2l0aW9uLnNldCgwLCAtMTgsIDApXHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5SYXdTaGFkZXJNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgIHZlcnRleFNoYWRlcixcclxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXIsXHJcbiAgICAgICAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5nbHRmTG9hZGVyLmxvYWQoJ21vZGVscy9odW1hbi9zY2VuZS5nbHRmJywgKGdsdGYpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbCA9IGdsdGYuc2NlbmVcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnBvc2l0aW9uLnkgPSAtMTZcclxuICAgICAgICAgICAgdGhpcy5ncm91cC5hZGQodGhpcy5tb2RlbClcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVBbGxNYXRlcmlhbCgpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVQYXJ0aWNsZSgpIHtcclxuICAgICAgICBjb25zdCBjb3VudCA9IDEwMDAwXHJcbiAgICAgICAgY29uc3QgcmFkaXVzID0gMTAwXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShjb3VudCAqIDMpXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGkzID0gaSAqIDNcclxuICAgICAgICAgICAgcG9zaXRpb25zW2kzXSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIHJhZGl1c1xyXG4gICAgICAgICAgICBwb3NpdGlvbnNbaTMgKyAxXSA9IE1hdGgucmFuZG9tKCkgKiByYWRpdXNcclxuICAgICAgICAgICAgcG9zaXRpb25zW2kzICsgMl0gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiByYWRpdXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KClcclxuICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsIDMpKVxyXG5cclxuICAgICAgICB0aGlzLnBhcnRpY2xlTWF0ZXJpYWwgPSBuZXcgVEhSRUUuUmF3U2hhZGVyTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICBmcmFnbWVudFNoYWRlcjogZnJhZ21lbnRTaGFkZXJQYXJ0aWNsZSxcclxuICAgICAgICAgICAgdmVydGV4U2hhZGVyOiB2ZXJ0ZXhTaGFkZXJQYXJ0aWNsZSxcclxuICAgICAgICAgICAgZGVwdGhXcml0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGJsZW5kaW5nOiBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLFxyXG4gICAgICAgICAgICB1bmlmb3Jtczoge1xyXG4gICAgICAgICAgICAgICAgdVRpbWU6IHsgdmFsdWU6IDAgfSxcclxuICAgICAgICAgICAgICAgIHVTaXplOiB7IHZhbHVlOiAxMCAqIHRoaXMucmVuZGVyZXIuZ2V0UGl4ZWxSYXRpbygpIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5wYXJ0aWNsZSA9IG5ldyBUSFJFRS5Qb2ludHMoZ2VvbWV0cnksIHRoaXMucGFydGljbGVNYXRlcmlhbClcclxuICAgICAgICB0aGlzLnBhcnRpY2xlLnBvc2l0aW9uLnkgPSAtMzVcclxuICAgICAgICB0aGlzLmdyb3VwLmFkZCh0aGlzLnBhcnRpY2xlKVxyXG4gICAgfVxyXG5cclxuICAgIG9uU2Nyb2xsKHsgcGl4ZWxZIH0pIHtcclxuICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgKz0gcGl4ZWxZXHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaFN0YXJ0KGUpIHtcclxuICAgICAgICB0aGlzLnkuc3RhcnQgPSBlLnRvdWNoZXNbMF0uY2xpZW50WVxyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hNb3ZlKGUpIHtcclxuICAgICAgICBpZiAodGhpcy55LnN0YXJ0ID4gZS50b3VjaGVzWzBdLmNsaWVudFkpIHtcclxuICAgICAgICAgICAgdGhpcy55LmRpc3RhbmNlICs9IDUwXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy55LmRpc3RhbmNlIC09IDEwMFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZFRpbWUpIHtcclxuICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSB0aGlzLnkuZGlzdGFuY2VcclxuICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSBHU0FQLnV0aWxzLmNsYW1wKDAsIHRoaXMuc2Nyb2xsLmxpbWl0LCB0aGlzLnNjcm9sbC50YXJnZXQpXHJcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLnRhcmdldCA8IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ID0gMFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLnNjcm9sbC50YXJnZXQsIDAuMDEpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhlYWQpIHRoaXMuaGVhZC5yb3RhdGlvbi55ID0gZWxhcHNlZFRpbWVcclxuICAgICAgICBpZiAodGhpcy5wYXJ0aWNsZU1hdGVyaWFsKSB0aGlzLnBhcnRpY2xlTWF0ZXJpYWwudW5pZm9ybXMudVRpbWUudmFsdWUgPSBlbGFwc2VkVGltZVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zY3JvbGwuY3VycmVudCA8IDQ2MDApIHtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEucm90YXRpb24ueCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnQgKiAwLjAwMDNcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEucm90YXRpb24ueSA9IHRoaXMuc2Nyb2xsLmN1cnJlbnQgKiAwLjAxXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSBNYXRoLmNvcyh0aGlzLnNjcm9sbC5jdXJyZW50ICogMC4wMSkgKiA1XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgPSAtdGhpcy5zY3JvbGwuY3VycmVudCAqIDAuMDAyXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnggPSBNYXRoLnNpbih0aGlzLnNjcm9sbC5jdXJyZW50ICogMC4wMSkgKiA1XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lX19lbmQnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEdTQVAudG8odGhpcy5jYW1lcmEucG9zaXRpb24sIHtcclxuICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICB5OiAtNixcclxuICAgICAgICAgICAgICAgIHo6IDE1LFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDYsXHJcbiAgICAgICAgICAgICAgICBlYXNlOiAnZXhwby5vdXQnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBHU0FQLnRvKHRoaXMuY2FtZXJhLnJvdGF0aW9uLCB7XHJcbiAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICAgIHo6IDAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMSxcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lX19lbmQnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51bmlmb3Jtcy50aW1lLnZhbHVlID0gZWxhcHNlZFRpbWVcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMuZ3JvdXApXHJcbiAgICB9XHJcbn1cclxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiNmE0YzAyMjBlYzE2MjdkNmRjYTRcIikiXSwibmFtZXMiOlsiSG9tZSIsImNvbnN0cnVjdG9yIiwic2NlbmUiLCJnbHRmTG9hZGVyIiwiY2FtZXJhIiwicmVuZGVyZXIiLCJ0aGlzIiwidW5pZm9ybXMiLCJ0aW1lIiwidmFsdWUiLCJzcGVlZCIsImNoYXJTaXplIiwieCIsInkiLCJjaGFyUmVzb2x1dGlvbiIsImNvbG9yIiwiVEhSRUUiLCJyZXNvbHV0aW9uIiwic2Nyb2xsIiwidGFyZ2V0IiwiY3VycmVudCIsImxpbWl0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xpZW50SGVpZ2h0Iiwic3RhcnQiLCJkaXN0YW5jZSIsImVuZCIsImdyb3VwIiwiYWRkIiwiY3JlYXRlT2JqZWN0IiwiY3JlYXRlUGFydGljbGUiLCJ1cGRhdGVBbGxNYXRlcmlhbCIsInRyYXZlcnNlIiwiY2hpbGQiLCJtYXRlcmlhbCIsIm5lZWRzVXBkYXRlIiwiY3ViZSIsInBvc2l0aW9uIiwic2V0IiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJsb2FkIiwiZ2x0ZiIsIm1vZGVsIiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwicG9zaXRpb25zIiwiRmxvYXQzMkFycmF5IiwiY291bnQiLCJpIiwiaTMiLCJNYXRoIiwicmFuZG9tIiwiZ2VvbWV0cnkiLCJzZXRBdHRyaWJ1dGUiLCJwYXJ0aWNsZU1hdGVyaWFsIiwiZnJhZ21lbnRTaGFkZXJQYXJ0aWNsZSIsInZlcnRleFNoYWRlclBhcnRpY2xlIiwiZGVwdGhXcml0ZSIsImJsZW5kaW5nIiwidVRpbWUiLCJ1U2l6ZSIsImdldFBpeGVsUmF0aW8iLCJwYXJ0aWNsZSIsIm9uU2Nyb2xsIiwicGl4ZWxZIiwib25Ub3VjaFN0YXJ0IiwiZSIsInRvdWNoZXMiLCJjbGllbnRZIiwib25Ub3VjaE1vdmUiLCJ1cGRhdGUiLCJlbGFwc2VkVGltZSIsIkdTQVAiLCJoZWFkIiwicm90YXRpb24iLCJ6IiwiY29zIiwic2luIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZHVyYXRpb24iLCJlYXNlIiwiZGVzdHJveSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==