/*! For license information please see main.8c9251e9e50acd442817.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdateportfolio_hursun_2("main",{"./app/classes/Page.js":(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var s=i("./node_modules/lodash/each.js"),n=i("./node_modules/gsap/index.js"),a=i("./node_modules/prefix/index.js"),l=i("./app/classes/AsyncLoad.js"),r=i("./app/animations/Title.js"),o=i("./app/animations/Paragraph.js"),h=i("./app/animations/Highlight.js");class m{constructor({element:e,id:t,elements:i}){this.selector=e,this.selectorChildren={...i,loadScreen:document.querySelector(".load__screen"),loadScreenImg:document.querySelector(".load__screen__img"),animationTitles:'[data-animation="title"]',animationParagraph:'[data-animation="paragraph"]',animationHighlight:'[data-animation="highlight"]',preloaders:"[data-src]"},this.id=t,this.scroll={current:0,target:0,limit:0},this.mouse={x:0,y:0},this.y={start:0,distance:0,end:0},this.transformPrefix=a("transform")}create(){this.element=document.querySelector(this.selector),this.elements={},s(this.selectorChildren,((e,t)=>{e instanceof window.HTMLElement||e instanceof window.NodeList||Array.isArray(e)?this.elements[t]=e:(this.elements[t]=this.element.querySelectorAll(e),0===this.elements[t].length?this.elements[t]=null:1===this.elements[t].length&&(this.elements[t]=this.element.querySelector(e)))})),this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight),this.createAnimation(),this.createAudio(),this.createAsyncLoad(),"home"===this.id&&this.createPoints(),"gallery"===this.id&&this.createScrollGsap(),"spotify"===this.id&&this.playHandle()}createAnimation(){s(this.elements.animationTitles,(e=>{new r.default({element:e})})),s(this.elements.animationParagraph,(e=>{new o.default({element:e})})),s(this.elements.animationHighlight,(e=>{new h.default({element:e})}))}createAudio(){this.sideAudio=new Audio("/Audio/mixkit-interface-hint-notification-911.wav"),this.sideAudio.volume=1,this.elements.loadScreen.addEventListener("click",(()=>{this.sideAudio.play()}))}createAsyncLoad(){s(this.elements.preloaders,(e=>{new l.default({element:e.target?e.target:e})}))}show(){return new Promise((e=>{this.animationOut=n.default.timeline(),this.animationOut.set(this.elements.loadScreen,{left:"-200%"}),this.animationOut.call((()=>{e()}))}))}hide(){return new Promise((e=>{this.animationIn=n.default.timeline(),this.animationIn.set(this.elements.loadScreen,{autoAlpha:1}),this.animationIn.set(this.elements.loadScreenImg,{autoAlpha:1}),this.animationIn.to(this.elements.loadScreen,{duration:1,width:"100%",left:"0%",ease:"Expo.easeInOut"}),this.animationIn.to(this.elements.loadScreen,{duration:2,width:"100%",left:"100%",ease:"Expo.easeInOut"})}))}onResize(){this.elements?.wrapper&&(this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight)}onScroll(e){this.scroll.target+=e.pixelY,this.scroll.target%800==0&&this.sideAudio.play()}onMousemove(e){this.mouse.x=.01*(e.clientX-window.innerWidth)+5,this.mouse.y=.01*(e.clientY-window.innerHeight)+5}onTouchStart(e){this.y.start=e.touches[0].clientY}onTouchMove(e){this.y.start>e.touches[0].clientY?this.y.distance+=50:this.y.distance-=50}onTouchEnd(e){}update(){this.scroll.target=this.y.distance,this.scroll.target=n.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current<.01&&(this.scroll.current=0),this.scroll.current=n.default.utils.interpolate(this.scroll.current,this.scroll.target,.01),this.elements?.wrapper&&(this.elements.wrapper.style[this.transformPrefix]=`translate3d(0px,-${this.scroll.current}px, 0px)`),this.elements?.bar&&s(this.elements.bar,(e=>{e.style.transform=`translateX(-${this.scroll.current}px)`})),this.elements.points&&s(this.elements.points,((e,t)=>{e.style.transform=`translateX(${this.mouse.x*(t+1)}px) translateY(${this.mouse.y*(t+1)}px)`}))}addEventListener(){}removeEventListeners(){}destroy(){this.removeEventListeners()}}}},(function(e){e.h=()=>"bcbbfd27f1e6d446e59f"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUEsTUFBaUIsRUFBR3ZELEtBQUtXLE9BQU9HLE1BQU9kLEtBQUtXLE9BQU9FLFFBRXBFYixLQUFLVyxPQUFPQyxRQUFVLE1BQ3RCWixLQUFLVyxPQUFPQyxRQUFVLEdBRTFCWixLQUFLVyxPQUFPQyxRQUFVMkMsRUFBQUEsUUFBQUEsTUFBQUEsWUFBdUJ2RCxLQUFLVyxPQUFPQyxRQUFTWixLQUFLVyxPQUFPRSxPQUFRLEtBRWxGYixLQUFLRCxVQUFVa0MsVUFDZmpDLEtBQUtELFNBQVNrQyxRQUFROEMsTUFDbEIvRSxLQUFLcUIsaUJBQ0osb0JBQW1CckIsS0FBS1csT0FBT0MsbUJBR3BDWixLQUFLRCxVQUFVaUYsS0FDZnhELEVBQUt4QixLQUFLRCxTQUFTaUYsS0FBTW5GLElBQ3JCQSxFQUFRa0YsTUFBTUUsVUFBYSxlQUFjakYsS0FBS1csT0FBT0MsWUFBckQsSUFJSlosS0FBS0QsU0FBU21GLFFBQ2QxRCxFQUFLeEIsS0FBS0QsU0FBU21GLFFBQVEsQ0FBQ0MsRUFBT0MsS0FDL0JELEVBQU1KLE1BQU1FLFVBQWEsY0FBYWpGLEtBQUtlLE1BQU1DLEdBQUtvRSxFQUFRLG9CQUMxRHBGLEtBQUtlLE1BQU1FLEdBQUttRSxFQUFRLE9BRDVCLEdBS1gsQ0FFRHBDLG1CQUFxQixDQUNyQnFDLHVCQUF5QixDQUV6QkMsVUFDSXRGLEtBQUtxRixzQkFDUixrQkNuTkxFLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0Zm9saW8taHVyc3VuLTIvLi9hcHAvY2xhc3Nlcy9QYWdlLmpzIiwid2VicGFjazovL3BvcnRmb2xpby1odXJzdW4tMi93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2guanMnXHJcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXHJcbmltcG9ydCBQcmVmaXggZnJvbSAncHJlZml4J1xyXG5cclxuaW1wb3J0IEFzeW5jTG9hZCBmcm9tICcuL0FzeW5jTG9hZC5qcydcclxuaW1wb3J0IEFuaW1hdGlvblRpdGxlIGZyb20gJy4uL2FuaW1hdGlvbnMvVGl0bGUuanMnXHJcbmltcG9ydCBBbmltYXRpb25QYXJhZ3JhcGggZnJvbSAnLi4vYW5pbWF0aW9ucy9QYXJhZ3JhcGguanMnXHJcbmltcG9ydCBBbmltYXRpb25IaWdobGlnaHQgZnJvbSAnLi4vYW5pbWF0aW9ucy9IaWdobGlnaHQuanMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgaWQsIGVsZW1lbnRzIH0pIHtcclxuICAgICAgICB0aGlzLnNlbGVjdG9yID0gZWxlbWVudFxyXG4gICAgICAgIHRoaXMuc2VsZWN0b3JDaGlsZHJlbiA9IHtcclxuICAgICAgICAgICAgLi4uZWxlbWVudHMsXHJcbiAgICAgICAgICAgIGxvYWRTY3JlZW46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkX19zY3JlZW4nKSxcclxuICAgICAgICAgICAgbG9hZFNjcmVlbkltZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRfX3NjcmVlbl9faW1nJyksXHJcbiAgICAgICAgICAgIGFuaW1hdGlvblRpdGxlczogJ1tkYXRhLWFuaW1hdGlvbj1cInRpdGxlXCJdJyxcclxuICAgICAgICAgICAgYW5pbWF0aW9uUGFyYWdyYXBoOiAnW2RhdGEtYW5pbWF0aW9uPVwicGFyYWdyYXBoXCJdJyxcclxuICAgICAgICAgICAgYW5pbWF0aW9uSGlnaGxpZ2h0OiAnW2RhdGEtYW5pbWF0aW9uPVwiaGlnaGxpZ2h0XCJdJyxcclxuICAgICAgICAgICAgcHJlbG9hZGVyczogJ1tkYXRhLXNyY10nLFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlkID0gaWRcclxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcclxuICAgICAgICAgICAgY3VycmVudDogMCxcclxuICAgICAgICAgICAgdGFyZ2V0OiAwLFxyXG4gICAgICAgICAgICBsaW1pdDogMCxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubW91c2UgPSB7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnkgPSB7XHJcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgICBkaXN0YW5jZTogMCxcclxuICAgICAgICAgICAgZW5kOiAwLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1QcmVmaXggPSBQcmVmaXgoJ3RyYW5zZm9ybScpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcclxuICAgICAgICB0aGlzLmVsZW1lbnRzID0ge31cclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLnNlbGVjdG9yQ2hpbGRyZW4sIChzZWxlY3Rvciwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHNlbGVjdG9yIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvciBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCB8fFxyXG4gICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShzZWxlY3RvcilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBzZWxlY3RvclxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IG51bGxcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50cy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmxpbWl0ID0gdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsaWVudEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb24oKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlQXVkaW8oKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlQXN5bmNMb2FkKClcclxuICAgICAgICBpZiAodGhpcy5pZCA9PT0gJ2hvbWUnKSB0aGlzLmNyZWF0ZVBvaW50cygpXHJcbiAgICAgICAgaWYgKHRoaXMuaWQgPT09ICdnYWxsZXJ5JykgdGhpcy5jcmVhdGVTY3JvbGxHc2FwKClcclxuICAgICAgICBpZiAodGhpcy5pZCA9PT0gJ3Nwb3RpZnknKSB0aGlzLnBsYXlIYW5kbGUoKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUFuaW1hdGlvbigpIHtcclxuICAgICAgICBlYWNoKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uVGl0bGVzLCAoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBuZXcgQW5pbWF0aW9uVGl0bGUoeyBlbGVtZW50IH0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvblBhcmFncmFwaCwgKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgbmV3IEFuaW1hdGlvblBhcmFncmFwaCh7IGVsZW1lbnQgfSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBlYWNoKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uSGlnaGxpZ2h0LCAoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBuZXcgQW5pbWF0aW9uSGlnaGxpZ2h0KHsgZWxlbWVudCB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQXVkaW8oKSB7XHJcbiAgICAgICAgdGhpcy5zaWRlQXVkaW8gPSBuZXcgQXVkaW8oJy9BdWRpby9taXhraXQtaW50ZXJmYWNlLWhpbnQtbm90aWZpY2F0aW9uLTkxMS53YXYnKVxyXG4gICAgICAgIHRoaXMuc2lkZUF1ZGlvLnZvbHVtZSA9IDFcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmxvYWRTY3JlZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2lkZUF1ZGlvLnBsYXkoKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQXN5bmNMb2FkKCkge1xyXG4gICAgICAgIGVhY2godGhpcy5lbGVtZW50cy5wcmVsb2FkZXJzLCAoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBuZXcgQXN5bmNMb2FkKHsgZWxlbWVudDogZWxlbWVudC50YXJnZXQgPyBlbGVtZW50LnRhcmdldCA6IGVsZW1lbnQgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uT3V0ID0gR1NBUC50aW1lbGluZSgpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbk91dC5zZXQodGhpcy5lbGVtZW50cy5sb2FkU2NyZWVuLCB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnLTIwMCUnLFxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25PdXQuY2FsbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uSW4gPSBHU0FQLnRpbWVsaW5lKClcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Jbi5zZXQodGhpcy5lbGVtZW50cy5sb2FkU2NyZWVuLCB7XHJcbiAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDEsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uSW4uc2V0KHRoaXMuZWxlbWVudHMubG9hZFNjcmVlbkltZywge1xyXG4gICAgICAgICAgICAgICAgYXV0b0FscGhhOiAxLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkluLnRvKHRoaXMuZWxlbWVudHMubG9hZFNjcmVlbiwge1xyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogJzAlJyxcclxuICAgICAgICAgICAgICAgIGVhc2U6ICdFeHBvLmVhc2VJbk91dCcsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uSW4udG8odGhpcy5lbGVtZW50cy5sb2FkU2NyZWVuLCB7XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICBlYXNlOiAnRXhwby5lYXNlSW5PdXQnLFxyXG4gICAgICAgICAgICAgICAgLy8gZGVsYXk6ICxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG9uUmVzaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzPy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmxpbWl0ID0gdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsaWVudEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblNjcm9sbChlKSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IGUucGl4ZWxZXHJcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLnRhcmdldCAlIDgwMCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2lkZUF1ZGlvLnBsYXkoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbk1vdXNlbW92ZShlKSB7XHJcbiAgICAgICAgdGhpcy5tb3VzZS54ID0gKGUuY2xpZW50WCAtIHdpbmRvdy5pbm5lcldpZHRoKSAqIDAuMDEgKyA1XHJcbiAgICAgICAgdGhpcy5tb3VzZS55ID0gKGUuY2xpZW50WSAtIHdpbmRvdy5pbm5lckhlaWdodCkgKiAwLjAxICsgNVxyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hTdGFydChlKSB7XHJcbiAgICAgICAgdGhpcy55LnN0YXJ0ID0gZS50b3VjaGVzWzBdLmNsaWVudFlcclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoTW92ZShlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMueS5zdGFydCA+IGUudG91Y2hlc1swXS5jbGllbnRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMueS5kaXN0YW5jZSArPSA1MFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMueS5kaXN0YW5jZSAtPSA1MFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoRW5kKGUpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlLnRvdWNoZXMpXHJcbiAgICAgICAgLy8gdGhpcy55LmVuZCArPSBlLnRvdWNoZXNbMF0uY2xpZW50WVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSB0aGlzLnkuZGlzdGFuY2VcclxuICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSBHU0FQLnV0aWxzLmNsYW1wKDAsIHRoaXMuc2Nyb2xsLmxpbWl0LCB0aGlzLnNjcm9sbC50YXJnZXQpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbC5jdXJyZW50IDwgMC4wMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gMFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLnNjcm9sbC50YXJnZXQsIDAuMDEpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzPy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMud3JhcHBlci5zdHlsZVtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUHJlZml4XHJcbiAgICAgICAgICAgIF0gPSBgdHJhbnNsYXRlM2QoMHB4LC0ke3RoaXMuc2Nyb2xsLmN1cnJlbnR9cHgsIDBweClgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50cz8uYmFyKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhpcy5lbGVtZW50cy5iYXIsIChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke3RoaXMuc2Nyb2xsLmN1cnJlbnR9cHgpYFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMucG9pbnRzKSB7XHJcbiAgICAgICAgICAgIGVhY2godGhpcy5lbGVtZW50cy5wb2ludHMsIChwb2ludCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIHBvaW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dGhpcy5tb3VzZS54ICogKGluZGV4ICsgMSl9cHgpIHRyYW5zbGF0ZVkoJHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdXNlLnkgKiAoaW5kZXggKyAxKVxyXG4gICAgICAgICAgICAgICAgfXB4KWBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcigpIHt9XHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVycygpIHt9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKClcclxuICAgIH1cclxufVxyXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJiY2JiZmQyN2YxZTZkNDQ2ZTU5ZlwiKSJdLCJuYW1lcyI6WyJQYWdlIiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiaWQiLCJlbGVtZW50cyIsInRoaXMiLCJzZWxlY3RvciIsInNlbGVjdG9yQ2hpbGRyZW4iLCJsb2FkU2NyZWVuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibG9hZFNjcmVlbkltZyIsImFuaW1hdGlvblRpdGxlcyIsImFuaW1hdGlvblBhcmFncmFwaCIsImFuaW1hdGlvbkhpZ2hsaWdodCIsInByZWxvYWRlcnMiLCJzY3JvbGwiLCJjdXJyZW50IiwidGFyZ2V0IiwibGltaXQiLCJtb3VzZSIsIngiLCJ5Iiwic3RhcnQiLCJkaXN0YW5jZSIsImVuZCIsInRyYW5zZm9ybVByZWZpeCIsIlByZWZpeCIsImNyZWF0ZSIsImVhY2giLCJrZXkiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsIk5vZGVMaXN0IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsIndyYXBwZXIiLCJjbGllbnRIZWlnaHQiLCJpbm5lckhlaWdodCIsImNyZWF0ZUFuaW1hdGlvbiIsImNyZWF0ZUF1ZGlvIiwiY3JlYXRlQXN5bmNMb2FkIiwiY3JlYXRlUG9pbnRzIiwiY3JlYXRlU2Nyb2xsR3NhcCIsInBsYXlIYW5kbGUiLCJBbmltYXRpb25UaXRsZSIsIkFuaW1hdGlvblBhcmFncmFwaCIsIkFuaW1hdGlvbkhpZ2hsaWdodCIsInNpZGVBdWRpbyIsIkF1ZGlvIiwidm9sdW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBsYXkiLCJBc3luY0xvYWQiLCJzaG93IiwiUHJvbWlzZSIsInJlc29sdmUiLCJhbmltYXRpb25PdXQiLCJHU0FQIiwic2V0IiwibGVmdCIsImNhbGwiLCJoaWRlIiwiYW5pbWF0aW9uSW4iLCJhdXRvQWxwaGEiLCJ0byIsImR1cmF0aW9uIiwid2lkdGgiLCJlYXNlIiwib25SZXNpemUiLCJvblNjcm9sbCIsImUiLCJwaXhlbFkiLCJvbk1vdXNlbW92ZSIsImNsaWVudFgiLCJpbm5lcldpZHRoIiwiY2xpZW50WSIsIm9uVG91Y2hTdGFydCIsInRvdWNoZXMiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJ1cGRhdGUiLCJzdHlsZSIsImJhciIsInRyYW5zZm9ybSIsInBvaW50cyIsInBvaW50IiwiaW5kZXgiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImRlc3Ryb3kiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=